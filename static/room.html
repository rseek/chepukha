<!DOCTYPE html>
<html lang="ru">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Marck+Script&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/static/main.css">
<meta charset="UTF-8">
<title>–ß–µ–ø—É—Ö–∞¬†‚Äî Light</title>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const q = new URLSearchParams(location.search);
  const cur = q.get("theme") || "light";
  const link = document.createElement("a");
  link.href = cur === "dark" ? "?theme=light" : "?theme=dark";
  link.textContent = cur === "dark" ? "‚òÄÔ∏è Light" : "üåô Dark";
  link.style.float = "right";
  document.body.prepend(link);
});
</script>

<style>
:root{--main:#333;--accent:#0d6efd;--border:#ddd;--bg:#fff}
*{box-sizing:border-box} body{
  margin:0;padding:24px 32px;
  background:var(--bg);color:var(--main);display:flex;gap:32px}
.hidden{display:none}
/* ‚Äî sidebar ‚Äî */
#sidebar{min-width:180px}
#players ul{margin:.6em 0;padding-left:1.2em}
#players li{list-style:"üë§ ";margin:.3em 0}
button{padding:8px 16px;background:var(--accent);color:#fff;
  border:none;border-radius:6px;font-weight:600;cursor:pointer}
button:disabled{opacity:.4}
/* ‚Äî main ‚Äî */
#main{flex:1}
.card{border:1px solid var(--border);border-radius:8px;padding:16px;margin-bottom:16px}
textarea{width:100%;min-height:70px;padding:10px;border-radius:6px;
  border:1px solid var(--border);resize:none;font-size:1rem}
#visible-header{display:flex;justify-content:space-between;font-size:.85em;
  color:var(--accent);margin-bottom:6px}
#row{display:flex;gap:12px}
#col-txt{flex:1;display:flex;flex-direction:column;gap:12px}
#col-btn{display:flex;flex-direction:column;gap:12px}
pre{white-space:pre-wrap;border:1px solid var(--border);padding:10px;border-radius:6px;background:#f8f9fa}
#wait{color:var(--accent);font-style:italic}
</style>
</head>
<body>
<!-- sidebar -->
<div id="sidebar">
  <h2>–ò–≥—Ä–æ–∫–∏</h2>
  <div id="players" class="card"></div>
<div id="rounds-setting" class="card hidden">
  <label for="rounds">–°–∫–æ–ª—å–∫–æ –∫—Ä—É–≥–æ–≤?</label>
  <select id="rounds">
    <option value="1">1 –∫—Ä—É–≥</option>
    <option value="2">2 –∫—Ä—É–≥–∞</option>
    <option value="3" selected>3 –∫—Ä—É–≥–∞</option>
    <option value="4">4 –∫—Ä—É–≥–∞</option>
    <option value="5">5 –∫—Ä—É–≥–æ–≤ (–∂–µ—Å—Ç—å)</option>
  </select>
</div>
  <button id="start" class="hidden">–ù–∞—á–∞—Ç—å</button>
</div>

<!-- main area -->
<div id="main">
  <div id="visible-block" class="card hidden">
      <div id="visible-header"><span id="visible-from"></span></div>
      <div class="visible-text" style="white-space:pre-wrap;font-size:1.1rem"></div>
  </div>

<form id="form" class="card hidden" style="border:none;">
  <div id="row">
    <!-- —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è -->
    <div id="col-txt">
      <textarea id="hidden"
        placeholder="–ë—É–¥–µ—Ç‚ÄØ–∑–∞–≤—ë—Ä–Ω—É—Ç–æ‚ÄØ‚Äî‚ÄØ—Å–ª–µ–¥—É—é—â–∏–π¬†–Ω–µ¬†—É–≤–∏–¥–∏—Ç —Ç–µ–∫—Å—Ç –∏–∑ —ç—Ç–æ–≥–æ –ø–æ–ª—è"></textarea>
      <textarea id="visible"
        placeholder="–í–∏–¥–∏–º–∞—è¬†—á–∞—Å—Ç—å‚ÄØ‚Äî‚ÄØ—Å–ª–µ–¥—É—é—â–∏–π¬†—É–≤–∏–¥–∏—Ç —Ç–µ–∫—Å—Ç –∏–∑ —ç—Ç–æ–≥–æ –ø–æ–ª—è"></textarea>
    </div>

    <!-- –∫–Ω–æ–ø–∫–∞ + –ø—Ä–µ–≤—å—é -->
    <div id="col-btn">
      <button id="send-btn" type="submit" disabled>–ü–µ—Ä–µ–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–º—É</button>

      <div id="preview" class="card" style="margin-top:12px;padding:20px 20px;
           font-size:1.7rem;white-space:pre-wrap;min-height:120px">
        <i>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å‚Ä¶</i>
      </div>
    </div>
  </div>
</form>

  <div id="wait"  class="card hidden">–û–∂–∏–¥–∞–µ–º –ª–∏—Å—Ç–∏–∫‚Ä¶</div>

  <div id="final" class="card hidden">
      <h3>–ü–æ–ª—É—á–∏–ª–∞—Å—å –∫–∞–∫–∞—è-—Ç–æ —á–µ–ø—É—Ö–∞:</h3><div id="final-list"></div>
      <button id="copy-result">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
  </div>
</div>

<script src="/static/main.js"></script>
</body>
</html>
